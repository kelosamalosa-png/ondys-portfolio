---
import { getTranslations } from '../i18n/utils';

interface Props {
  title: string;
  slug: string;
  shortDescription: string;
  status: 'live' | 'beta' | 'prototype';
  category: 'apps' | 'tools' | 'games';
  tags: string[];
  lang: 'cs' | 'en';
}

const { title, slug, shortDescription, status, category, tags, lang } = Astro.props;
const t = getTranslations(lang);

const statusClasses = {
  live: 'status-live',
  beta: 'status-beta',
  prototype: 'status-prototype',
};

const statusLabels = {
  live: t.projects.status.live,
  beta: t.projects.status.beta,
  prototype: t.projects.status.prototype,
};
---

<article class="glass-card-hover p-6 flex flex-col h-full group" data-category={category}>
  <div class="flex items-start justify-between gap-4 mb-4">
    <h3 class="text-xl font-display font-bold text-white group-hover:text-brand-400 transition-colors">
      {title}
    </h3>
    <span class={statusClasses[status]}>
      {statusLabels[status]}
    </span>
  </div>
  
  <p class="text-surface-400 text-sm mb-4 flex-1">
    {shortDescription}
  </p>
  
  <div class="flex flex-wrap gap-2 mb-4">
    {tags.slice(0, 4).map((tag) => (
      <span class="tag text-xs">{tag}</span>
    ))}
  </div>
  
  <a 
    href={`/${lang}/projects/${slug}`} 
    class="inline-flex items-center text-brand-400 hover:text-brand-300 font-medium text-sm transition-colors group/link"
  >
    {t.projects.viewDetails}
    <svg class="w-4 h-4 ml-1 group-hover/link:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
    </svg>
  </a>
</article>
