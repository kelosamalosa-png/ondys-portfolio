---
import { getTranslations } from '../i18n/utils';
import { getCollection } from 'astro:content';

interface Props {
  lang: 'cs' | 'en';
}

const { lang } = Astro.props;
const t = getTranslations(lang);

const allSkills = await getCollection('skills');
const skills = allSkills.sort((a, b) => a.data.order - b.data.order);
---

<section id="skills" class="py-20 scroll-mt-20">
  <div class="container-main">
    <h2 class="section-heading">{t.skills.title}</h2>
    <p class="section-subheading mb-12">{t.skills.subtitle}</p>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {skills.map((skill, index) => (
        <div 
          class="glass-card p-6 hover:border-brand-500/30 transition-all duration-300"
          style={`--delay: ${index * 50}ms`}
        >
          <div class="w-10 h-10 rounded-lg bg-brand-900/50 border border-brand-700/30 flex items-center justify-center mb-4">
            <svg class="w-5 h-5 text-brand-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <h3 class="font-display font-semibold text-white mb-2">
            {lang === 'cs' ? skill.data.title_cs : skill.data.title_en}
          </h3>
          <p class="text-surface-400 text-sm">
            {lang === 'cs' ? skill.data.description_cs : skill.data.description_en}
          </p>
        </div>
      ))}
    </div>
  </div>
</section>
