---
import { getTranslations } from '../i18n/utils';
import { getCollection } from 'astro:content';

interface Props {
  lang: 'cs' | 'en';
}

const { lang } = Astro.props;
const t = getTranslations(lang);

const allSkills = await getCollection('skills');
const skills = allSkills.sort((a, b) => a.data.order - b.data.order);
---

<section id="skills" class="py-24 scroll-mt-20">
  <div class="container-main">
    <div class="mb-12 reveal">
      <div class="section-label">{lang === 'cs' ? '// Dovednosti' : '// Skills'}</div>
      <h2 class="section-heading">{t.skills.title}</h2>
      <p class="section-subheading">{t.skills.subtitle}</p>
    </div>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 reveal-stagger">
      {skills.map((skill) => (
        <div class="card p-5 group hover:border-accent/20">
          <div class="flex items-start gap-4">
            <div class="w-8 h-8 rounded-md bg-accent/10 border border-accent/20 flex items-center justify-center shrink-0 mt-0.5">
              <span class="text-accent text-sm font-mono font-bold">âœ“</span>
            </div>
            <div>
              <h3 class="font-display font-semibold text-white text-sm mb-1">
                {lang === 'cs' ? skill.data.title_cs : skill.data.title_en}
              </h3>
              <p class="text-surface-500 text-xs leading-relaxed">
                {lang === 'cs' ? skill.data.description_cs : skill.data.description_en}
              </p>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
